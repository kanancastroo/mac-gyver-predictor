(()=>{"use strict";var e={7635:(e,t,n)=>{n(6992),n(8674),n(9601),n(7727);var o=n(8935),s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("router-view")],1)},i=[];const a={name:"App"},r=a;var c=n(1001),l=(0,c.Z)(r,s,i,!1,null,null,null);const u=l.exports;var d=n(2809),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard"},[n("app-toolbar"),n("router-view"),n("app-footer")],1)},v=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",{attrs:{color:"#285430",dark:"",flat:"",tile:""}},[n("h1",{staticClass:"page-title"},[e._v("MacGyver Predictor")]),n("v-toolbar",{staticClass:"d-flex justify-center align-center",attrs:{flat:"",color:"#5F8D4E"}},[n("router-link",{attrs:{to:"/dashboard/bottom-up"}},[n("v-btn",[e._v("Bottom-Up")])],1),n("router-link",{attrs:{to:"/dashboard/manager"}},[n("v-btn",[e._v("Manager")])],1),n("router-link",{attrs:{to:"/dashboard/top-down"}},[n("v-btn",[e._v("Top-Down")])],1),n("router-link",{attrs:{to:"/dashboard/admin"}},[n("v-btn",[e._v("Admin")])],1)],1)],1)},f=[],g={},_=(0,c.Z)(g,p,f,!1,null,null,null);const m=_.exports;var b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-footer",{staticStyle:{width:"100%"},attrs:{padless:"",color:"#5F8D4E",dark:"",app:"",bottom:"",fixed:""}},[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[n("strong",[e._v("UFABC & UFG")]),e._v(" - "+e._s((new Date).getFullYear())+" ")])],1)},x=[],B={},C=(0,c.Z)(B,b,x,!1,null,null,null);const S=C.exports,k={name:"Dashboard",components:{AppFooter:S,AppToolbar:m},mounted:function(){console.log("here")}},F=k;var D=(0,c.Z)(F,h,v,!1,null,null,null);const E=D.exports;var w=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("BottomUpDashboard")},y=[],P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"bottom-up"},[n("div",{staticClass:"bottom-up__panel"},[n("div",{staticClass:"bottom-up__title"},[e._v("SoS")]),n("div",{staticClass:"bottom-up__content"},[n("v-row",{attrs:{justify:"center"}},[n("v-select",{ref:"sos",attrs:{items:this.sos,"item-text":"sos_name","item-value":"sos_external_id",label:"Pick a SoS",dense:"","return-object":""},on:{change:function(t){return e.getConstituentsWithFeatures(e.selectedSoS.sos_external_id)}},model:{value:e.selectedSoS,callback:function(t){e.selectedSoS=t},expression:"selectedSoS"}})],1),n("div",{staticClass:"bottom-up__title"},[e._v(" "+e._s(this.getConstituentsColumnLabel())+" ")]),n("div",{staticClass:"bottom-up__content"},e._l(e.constituents,(function(t,o){return n("v-tooltip",{key:o,attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,i=o.attrs;return[n("span",e._g(e._b({},"span",i,!1),s),[n("v-chip",{ref:"constituents",refInFor:!0,attrs:{color:"#5F8D4E",dark:""},on:{click:function(n){return e.addConstituent(t)}}},[e._v(" "+e._s(t.constituent_name)+" ")])],1)]}}],null,!0)},e._l(t.basic_features,(function(t,o){return n("p",{key:o},[e._v(" "+e._s(t.description)+" ")])})),0)})),1)],1)]),n("div",{staticClass:"bottom-up__panel"},[n("div",{staticClass:"bottom-up__title"},[e._v("SoS Modeling Space")]),n("div",{staticClass:"bottom-up__content"},e._l(e.composedSoS,(function(t,o){return n("div",{key:o},[n("v-tooltip",{attrs:{right:""},scopedSlots:e._u([{key:"activator",fn:function(s){var i=s.on,a=s.attrs;return[n("span",e._g(e._b({},"span",a,!1),i),[n("v-chip",{staticClass:"d-flex justify-between",attrs:{color:"#5F8D4E",dark:"",close:""},on:{"click:close":function(t){return e.removeConstituent(o)}}},[e._v(" "+e._s(t.constituent_name)+" ")])],1)]}}],null,!0)},e._l(t.basic_features,(function(t,o){return n("p",{key:o},[e._v(" "+e._s(t.description)+" ")])})),0)],1)})),0)]),n("div",{staticClass:"bottom-up__panel"},[n("div",{staticClass:"bottom-up__title"},[e._v(" Emergent Behaviors (from constituents in the SoS Modeling Space) ")]),n("div",{staticClass:"bottom-up__content"},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"#A4BE7B",dark:""}},"v-btn",s,!1),o),[e._v(" Save new SoS ")])]}}]),model:{value:e.addSoSDialog,callback:function(t){e.addSoSDialog=t},expression:"addSoSDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("New SoS name")])]),n("small",[e._v("Type a name for the new SoS:")]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:""},model:{value:e.sosName,callback:function(t){e.sosName=t},expression:"sosName"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.addSoSDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.addSoSDialog=!1,e.saveSoS(e.sosName)}}},[e._v(" Save ")])],1)],1)],1),n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.saveDialog,callback:function(t){e.saveDialog=t},expression:"saveDialog"}},[n("v-card",{attrs:{color:"red",dark:""}},[n("v-card-text",[e._v(" Saving new SoS... "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),n("div",{staticClass:"bottom-up__group"},[n("label",{staticClass:"bottom-up__label"},[e._v("Predicted:")]),n("div",{staticClass:"bottom-up__behaviors"},e._l(e.predictions,(function(t,o){return n("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:""},on:{"click:close":function(t){return e.removePrediction(o)}}},[e._v(" "+e._s(t.description)+" ")])})),1),n("v-btn",{attrs:{disabled:e.predictDialog,loading:e.predictDialog,color:"#A4BE7B",dark:""},on:{click:function(t){e.predictDialog=!0,e.predict()}}},[e._v(" Predict ")]),n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.predictDialog,callback:function(t){e.predictDialog=t},expression:"predictDialog"}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-text",[e._v(" Processing predictions... "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1),n("div",{staticClass:"bottom-up__group"},[n("label",{staticClass:"bottom-up__label"},[e._v("Observed:")]),n("div",{staticClass:"bottom-up__behaviors"},e._l(e.observedBehaviors,(function(t,o){return n("v-chip",{key:o,staticClass:"ma-2",attrs:{color:"primary",close:""},on:{"click:close":function(t){return e.removeObservedBehavior(o)}}},[e._v(" "+e._s(t.description)+" ")])})),1),n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"#A4BE7B",dark:""}},"v-btn",s,!1),o),[e._v(" Add ")])]}}]),model:{value:e.behaviorDialog,callback:function(t){e.behaviorDialog=t},expression:"behaviorDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Emergent Behavior")]),n("small",[e._v("Pick one from the list or type a new behavior in the textbox")])]),n("v-card-text",[n("v-container",[n("v-row",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-select",{attrs:{items:this.emergentBehaviors,"item-text":"description",label:"Pick an emergent behavior","return-object":""},model:{value:e.selectedBehavior,callback:function(t){e.selectedBehavior=t},expression:"selectedBehavior"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"...or type a new one here"},model:{value:e.insertedBehavior,callback:function(t){e.insertedBehavior=t},expression:"insertedBehavior"}})],1)],1)],1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.behaviorDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.behaviorDialog=!1,e.addObservedBehavior(e.selectedBehavior,e.insertedBehavior)}}},[e._v(" Add ")])],1)],1)],1),n("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"#A4BE7B",dark:""}},[e._v("Error")]),n("v-card-text",[n("div",{staticClass:"text-h5 pa-12"},[e._v("Sorry, an error occurred!")])]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}])})],1)],1)])])},Q=[],Z=n(7906),N=n(6198),A=(n(1539),n(8783),n(3948),n(2222),n(561),n(4900)),R=n(4247);const $={data:function(){return{selectedSoS:null,sos:[],constituents:[],composedSoS:[],featuresFromChosenConstituents:[],message:"Train Model",predictions:[],knownBehaviors:[],observedBehaviors:[],SoSLines:[],emergentBehaviors:[],selectedBehavior:null,insertedBehavior:null,predictDialog:!1,saveDialog:!1,behaviorDialog:!1,addSoSDialog:!1,errorDialog:!1,sosName:"Unnamed SoS"}},watch:{predictDialog:function(e){},saveDialog:function(e){},behaviorDialog:function(e){},addSoSDialog:function(e){}},methods:{getConstituentsColumnLabel:function(){return null!=this.selectedSoS?"Constituents from "+this.selectedSoS.sos_name:"Constituents"},addObservedBehavior:function(e,t){var n=this;if(t){var o="".concat("http://localhost:5000","/emergent_behaviors/add");A.ZP.get(o,{params:{description:t}}).then((function(e){var o={};o.emergent_external_id=e.data,o.description=t,n.observedBehaviors.push(o)}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}else this.observedBehaviors.push(e)},showKnownEmergentBehaviors:function(){var e=this,t="".concat("http://localhost:5000","/constituents/basic_features/emergent_behaviors/post"),n={constituent_list:this.composedSoS};(0,A.ZP)({url:t,method:"post",data:n}).then((function(t){e.knownBehaviors=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error("ERROR ON SHOW KNOWN EMERGENT BEHAVIORS =>>> ",t)}))},getAllEmergentBehaviors:function(){var e=this,t="".concat("http://localhost:5000","/emergent_behaviors/get");A.ZP.get(t).then((function(t){e.emergentBehaviors=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},saveSoS:function(e){var t=this;this.saveDialog=!0;var n="".concat("http://localhost:5000","/sos/add");console.log(n);var o=e,s=(0,R.Z)();A.ZP.get(n,{params:{sos_name:o,sos_id:s}}).then(function(){var e=(0,N.Z)((0,Z.Z)().mark((function e(n){var i,a,r,c;return(0,Z.Z)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(console.log(n.data),i="".concat("http://localhost:5000","/relation/sos_constituent/add"),console.log(i),a=[],r=function(e){a.push(A.ZP.get(i,{params:{sos_external_id:s,constituent_external_id:t.composedSoS[e].constituent_external_id}}).then((function(n){console.log("Added relation between ".concat(o," and ").concat(t.composedSoS[e].constituent_name))}))["catch"]((function(e){t.errorDialog=!0,console.error("ERROR ON ADD RELATION SOS/CONSTITUENT =>>> ",e),t.saveDialog=!1})))},c=0;c<t.composedSoS.length;c++)r(c);return e.next=8,Promise.all(a);case 8:console.log("Relations SoS/Constituent added Successfully. Now adding relations Basic Features/Emergent Behaviors..."),console.log("Executing addRelationBasicFeaturesEmergentBehaviors(sos_external_id, this.predictions)"),t.addRelationBasicFeaturesEmergentBehaviors(s,t.predictions).then((function(e){console.log("Executing addRelationBasicFeaturesEmergentBehaviors(sos_external_id, this.knownBehaviors)"),t.addRelationBasicFeaturesEmergentBehaviors(s,t.knownBehaviors).then((function(e){console.log("Executing addRelationBasicFeaturesEmergentBehaviors(sos_external_id, this.observedBehaviors)"),t.addRelationBasicFeaturesEmergentBehaviors(s,t.observedBehaviors).then((function(e){console.log("Executing updateModel()"),t.updateModel().then((function(e){return console.log("DONE!")}))}))}))}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())["catch"]((function(e){t.saveDialog=!1,t.errorDialog=!0,console.error("ERROR ON ADD SOS =>>> ",e)}))},updateModel:function(){var e=this,t="".concat("http://localhost:5000","/database/process");return new Promise((function(n,o){A.ZP.get(t).then((function(t){console.log("Model updated successfully!"),e.saveDialog=!1,n()}))["catch"]((function(t){console.error(t),e.saveDialog=!1,e.errorDialog=!0}))}))},addRelationBasicFeaturesEmergentBehaviors:function(e,t){var n=this;console.log("sos_external_id =>>> ",e);var o={basic_features_list:this.featuresFromChosenConstituents,emergent_behaviors_list:t},s="".concat("http://localhost:5000","/relation/basic_feature_emergent_behavior/add");return new Promise((function(i,a){(0,A.ZP)({url:s,method:"post",data:o}).then((function(o){console.log("Relations Basic Features/Emergent Behaviors added Successfully. Now adding relations SoS/Emergent Behaviors...");var s={sos_external_id:e,emergent_behaviors_list:t},a="".concat("http://localhost:5000","/relation/sos_emergent_behavior/add");(0,A.ZP)({url:a,method:"post",data:s}).then((function(e){console.log("SUBPROCESS FINISHED!!!"),i()}))["catch"]((function(e){console.log("ERROR ON ADD RELATION SoS/BEHAVIORS =>>> ",e),n.saveDialog=!1,n.errorDialog=!0}))}))["catch"]((function(e){console.log("ERROR ON ADD RELATION FEATURES/BEHAVIORS =>>> ",e),n.saveDialog=!1,n.errorDialog=!0}))}))},closeDialog:function(){this.dialog=!1},getSoS:function(){var e=this,t="".concat("http://localhost:5000","/sos/get");console.log(t),A.ZP.get(t).then((function(t){e.sos=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},getConstituents:function(e){var t=this;this.constituents=[];var n="".concat("http://localhost:5000","/sos/").concat(e,"/constituents/get");return new Promise((function(e,o){A.ZP.get(n).then((function(n){t.constituents=n.data,console.log(t.constituents),t.$nextTick((function(){e()}))}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},getFeaturesForConstituents:function(){var e=this;return(0,N.Z)((0,Z.Z)().mark((function t(){var n,o,s;return(0,Z.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:for(n=[],o=function(t){var o=e.constituents[t].constituent_external_id,s="".concat("http://localhost:5000","/constituents/").concat(o,"/basic_features/get");n.push(A.ZP.get(s).then((function(n){e.constituents[t].basic_features=n.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)})))},s=0;s<e.constituents.length;s++)o(s);return t.next=5,Promise.all(n);case 5:case"end":return t.stop()}}),t)})))()},getConstituentsWithFeatures:function(e){var t=this;this.getConstituents(e).then((function(e){console.log("Got constituents!"),t.getFeaturesForConstituents().then((function(e){console.log("Got features for constituents!"),t.$nextTick((function(){console.log("Resolving after $nextTick")}))}))}))},preProcessDatabase:function(){var e=this,t="".concat("http://localhost:5000","/database/process");A.ZP.get(t).then((function(t){e.message=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},predict:function(){var e=this,t="".concat("http://localhost:5000","/predict"),n={constituent_list:this.composedSoS};(0,A.ZP)({url:t,method:"post",data:n}).then((function(t){e.predictions=t.data,console.log(e.predictions);var o="".concat("http://localhost:5000","/constituents/basic_features/post");(0,A.ZP)({url:o,method:"post",data:n}).then((function(t){e.featuresFromChosenConstituents=t.data,console.log("BASIC FEATURES:"),console.log(e.featuresFromChosenConstituents),e.predictDialog=!1}))["catch"]((function(t){e.predictDialog=!1,e.errorDialog=!0,console.log(t)}))}))["catch"]((function(t){e.errorDialog=!0,console.log(t)}))},addConstituent:function(e){this.composedSoS.push(e),console.log("composed SoS => ",this.composedSoS)},removeConstituent:function(e){this.composedSoS.splice(e,1)},removePrediction:function(e){this.predictions.splice(e,1)},removeKnownBehavior:function(e){this.knownBehaviors.splice(e,1)},removeObservedBehavior:function(e){this.observedBehaviors.splice(e,1)}},created:function(){this.getSoS(),this.getAllEmergentBehaviors()}},L=$;var O=(0,c.Z)(L,P,Q,!1,null,null,null);const T=O.exports,j={components:{BottomUpDashboard:T}},I=j;var M=(0,c.Z)(I,w,y,!1,null,null,null);const U=M.exports;var H=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopDownDashboard")},z=[],G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"top-down"},[n("div",{staticClass:"top-down__panel"},[n("div",{staticClass:"top-down__title"},[e._v("Avaliable Emergent Behaviors")]),n("div",{staticClass:"top-down__content"},[n("v-select",{attrs:{items:this.availableEmergentBehaviors,"item-text":"description","item-value":"emergent_external_id",label:"Pick an emergent behavior",dense:"","return-object":""},on:{change:function(t){return e.selectBehavior(e.selectedEmergentBehavior)}},model:{value:e.selectedEmergentBehavior,callback:function(t){e.selectedEmergentBehavior=t},expression:"selectedEmergentBehavior"}}),n("v-btn",{attrs:{elevation:"2"},on:{click:function(t){return e.addEmergentBehavior()}}},[e._v("Add Behavior")])],1)]),n("div",{staticClass:"top-down__panel"},[n("div",{staticClass:"top-down__title"},[e._v("Chosen Emergent Behaviors")]),n("div",{staticClass:"top-down__content"},e._l(e.chosenEmergentBehaviors,(function(t,o){return n("v-chip",{key:o,attrs:{close:"","close-icon":"mdi-delete",color:"orange",id:t.emergent_external_id},on:{"click:close":function(t){return e.removeEmergentBehavior(o)}}},[e._v(e._s(t.description))])})),1)]),n("div",{staticClass:"top-down__panel"},[n("div",{staticClass:"top-down__title"},[e._v("Necessary Constituents")]),n("div",{staticClass:"top-down__content"},[n("v-btn",{attrs:{elevation:"2"},on:{click:function(t){return e.getConstituentsFromEmergentBehaviors()}}},[e._v("Get!")]),e._l(e.necessaryConstituents,(function(t,o){return n("v-chip",{key:o,attrs:{id:t.constituent_external_id,color:"green"}},[e._v(e._s(t.constituent_name))])}))],2)]),n("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"#A4BE7B",dark:""}},[e._v("Error")]),n("v-card-text",[n("div",{staticClass:"text-h5 pa-12"},[e._v("Sorry, an error occurred!")])]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}])})],1)},J=[];n(5827),n(5212);const K={data:function(){return{availableEmergentBehaviors:[],selectedEmergentBehavior:null,chosenEmergentBehaviors:[],necessaryConstituents:[],errorDialog:!1}},created:function(){this.getEmergentBehaviors()},methods:{getEmergentBehaviors:function(){var e=this,t="".concat("http://localhost:5000","/emergent_behaviors/get");A.ZP.get(t).then((function(t){e.availableEmergentBehaviors=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},selectBehavior:function(e){this.selectedEmergentBehavior=e,console.log("chosen Behavior => ",this.selectedEmergentBehavior)},addEmergentBehavior:function(){this.chosenEmergentBehaviors.push(this.selectedEmergentBehavior);var e=[],t=this.chosenEmergentBehaviors.reduce((function(e,t){return e.some((function(e){return e.emergent_external_id===t.emergent_external_id}))||e.push(t),e}),e);console.log("uniqBehaviors => ",e),console.log("filterDuplicates => ",t),this.chosenEmergentBehaviors=e},removeEmergentBehavior:function(e){this.chosenEmergentBehaviors.splice(e,1)},getConstituentsFromEmergentBehaviors:function(){var e=this,t="".concat("http://localhost:5000","/emergent_behaviors/basic_features/constituents/post"),n={behaviors_list:this.chosenEmergentBehaviors};(0,A.ZP)({url:t,method:"post",data:n}).then((function(t){e.necessaryConstituents=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error("ERROR =>>> ",t)}))}}},W=K;var V=(0,c.Z)(W,G,J,!1,null,"52124233",null);const Y=V.exports,q={data:function(){return{}},components:{TopDownDashboard:Y}},X=q;var ee=(0,c.Z)(X,H,z,!1,null,null,null);const te=ee.exports;var ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ManagerDashboard")},oe=[],se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"manager",on:{scroll:function(t){return e.console.log("scrolled!")}}},[n("div",{staticClass:"manager__panel h-100"},[n("div",{staticClass:"manager__title"},[e._v("SoS")]),n("div",{staticClass:"manager__content"},[n("v-dialog",{attrs:{persistent:"","max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",s,!1),o),[e._v(" Create ")])]}}]),model:{value:e.sosDialog,callback:function(t){e.sosDialog=t},expression:"sosDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Create SoS")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}}),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Type a name for the new SoS"},model:{value:e.addingSoS,callback:function(t){e.addingSoS=t},expression:"addingSoS"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.sosDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.sosDialog=!1,e.createSoS(e.addingSoS)}}},[e._v(" Create ")])],1)],1)],1),n("v-select",{ref:"sos",attrs:{items:this.sos,"item-text":"sos_name","item-value":"sos_external_id",label:"Pick a SoS",dense:"","return-object":""},on:{change:function(t){return e.loadSoS(e.selectedSoS.sos_external_id)}},model:{value:e.selectedSoS,callback:function(t){e.selectedSoS=t},expression:"selectedSoS"}}),n("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:""}},"v-btn",s,!1),o),[n("v-icon",[e._v(" "+e._s(e.icons.mdiPencil)+" ")])],1)]}}]),model:{value:e.editSoSDialog,callback:function(t){e.editSoSDialog=t},expression:"editSoSDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Edit SoS")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}}),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Type a name for this SoS"},model:{value:e.sosNewName,callback:function(t){e.sosNewName=t},expression:"sosNewName"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editSoSDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editSoSDialog=!1,e.editSoS(e.sosNewName)}}},[e._v(" Edit ")])],1)],1)],1),n("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"#A4BE7B",dark:""}},[e._v("Error")]),n("v-card-text",[n("div",{staticClass:"text-h5 pa-12"},[e._v("Sorry, an error occurred!")])]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}])}),n("v-btn",{attrs:{depressed:"",color:"primary"},on:{click:function(t){return e.removeSoS()}}},[n("v-icon",[e._v(" "+e._s(e.icons.mdiDelete)+" ")])],1),n("v-btn",{attrs:{color:"primary",elevation:"2"},on:{click:function(t){return e.saveSoS()}}},[e._v("Save Changes")]),n("v-btn",{attrs:{color:"primary",elevation:"2"},on:{click:function(t){return e.redrawLines()}}},[e._v("Redraw lines")])],1)]),n("div",{staticClass:"manager__panel"},[n("div",{staticClass:"manager__title"},[e._v("Constituents")]),n("div",{staticClass:"manager__content"},[n("v-dialog",{attrs:{persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:""},on:{click:function(t){return e.getConstituents()}}},"v-btn",s,!1),o),[e._v(" Add ")])]}}]),model:{value:e.constituentDialog,callback:function(t){e.constituentDialog=t},expression:"constituentDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Add constituent")]),n("small",[e._v("Pick one from the list or type a name for a new constituent in the textbox")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-select",{attrs:{items:this.availableConstituents,"item-text":"constituent_name","item-value":"constituent_external_id",label:"Pick a constituent","return-object":""},model:{value:e.addingConstituent,callback:function(t){e.addingConstituent=t},expression:"addingConstituent"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"...or type a new one here"},model:{value:e.addingConstituent,callback:function(t){e.addingConstituent=t},expression:"addingConstituent"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.constituentDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.constituentDialog=!1,e.addConstituent(e.addingConstituent)}}},[e._v(" Add ")])],1)],1)],1),e._l(e.constituents,(function(t,o){return n("v-chip",{key:o,ref:"constituents",refInFor:!0,attrs:{color:e.selectedConstituents.includes(t.constituent_external_id)?"error":"primary",close:"",id:t.constituent_external_id},on:{"click:close":function(n){return e.removeConstituent(t,o)},click:function(n){return e.handleColorConstituents(t)}}},[n("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,i=o.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",dark:""},on:{click:function(n){return e.selectConstituentForEdition(t)}}},"v-btn",i,!1),s),[n("v-icon",[e._v(" "+e._s(e.icons.mdiPencil)+" ")])],1)]}}],null,!0),model:{value:e.editConstituentDialog,callback:function(t){e.editConstituentDialog=t},expression:"editConstituentDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Edit Constituent")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}}),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Type a name for this constituent"},model:{value:e.constituentNewName,callback:function(t){e.constituentNewName=t},expression:"constituentNewName"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editConstituentDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editConstituentDialog=!1,e.editConstituent(e.constituentNewName)}}},[e._v(" Edit ")])],1)],1)],1),e._v(" "+e._s(t.constituent_name)+" ")],1)}))],2)]),n("div",{staticClass:"manager__panel"},[n("div",{staticClass:"manager__title"},[e._v("Basic Features")]),n("div",{staticClass:"manager__content"},[n("v-dialog",{attrs:{persistent:"","max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:""},on:{click:function(t){return e.getBasicFeatures()}}},"v-btn",s,!1),o),[e._v(" Add ")])]}}]),model:{value:e.featureDialog,callback:function(t){e.featureDialog=t},expression:"featureDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Add basic feature")]),n("small",[e._v("Pick one from the list or type a name for a new basic feature in the textbox")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-select",{attrs:{items:this.availableBasicFeatures,"item-text":"description","item-value":"feature_external_id",label:"Pick a basic feature","return-object":""},model:{value:e.addingFeature,callback:function(t){e.addingFeature=t},expression:"addingFeature"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"...or type a new one here"},model:{value:e.addingFeature,callback:function(t){e.addingFeature=t},expression:"addingFeature"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.featureDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.featureDialog=!1,e.addBasicFeature(e.addingFeature)}}},[e._v(" Add ")])],1)],1)],1),e._l(e.basicFeatures,(function(t,o){return n("v-chip",{key:o,ref:"basicFeatures",refInFor:!0,attrs:{color:e.selectedFeatures.includes(t.feature_external_id)?"error":"primary",close:"",id:t.feature_external_id},on:{"click:close":function(n){return e.removeBasicFeature(t,o)},click:function(n){return e.handleColorBasicFeatures(t)}}},[n("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,i=o.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",dark:""},on:{click:function(n){return e.selectBasicFeatureForEdition(t)}}},"v-btn",i,!1),s),[n("v-icon",[e._v(" "+e._s(e.icons.mdiPencil)+" ")])],1)]}}],null,!0),model:{value:e.editBasicFeatureDialog,callback:function(t){e.editBasicFeatureDialog=t},expression:"editBasicFeatureDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Edit Basic Feature")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}}),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Type a description for this basic feature"},model:{value:e.featureNewDescription,callback:function(t){e.featureNewDescription=t},expression:"featureNewDescription"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editBasicFeatureDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editBasicFeatureDialog=!1,e.editBasicFeature(e.featureNewDescription)}}},[e._v(" Edit ")])],1)],1)],1),e._v(" "+e._s(t.description)+" ")],1)}))],2)]),n("div",{staticClass:"manager__panel"},[n("div",{staticClass:"manager__title"},[e._v("Emergent Behaviors")]),n("div",{staticClass:"manager__content"},[n("v-dialog",{attrs:{persistent:"","max-width":"700px"},scopedSlots:e._u([{key:"activator",fn:function(t){var o=t.on,s=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"primary",dark:""},on:{click:function(t){return e.getEmergentBehaviors()}}},"v-btn",s,!1),o),[e._v(" Add ")])]}}]),model:{value:e.behaviorDialog,callback:function(t){e.behaviorDialog=t},expression:"behaviorDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Add emergent behavior")]),n("small",[e._v("Pick one from the list or type a name for a new emergent behavior in the textbox")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}},[n("v-select",{attrs:{items:this.availableEmergentBehaviors,"item-text":"description","item-value":"emergent_external_id",label:"Pick an emergent behavior","return-object":""},model:{value:e.addingEmergent,callback:function(t){e.addingEmergent=t},expression:"addingEmergent"}})],1),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"...or type a new one here"},model:{value:e.addingEmergent,callback:function(t){e.addingEmergent=t},expression:"addingEmergent"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.behaviorDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.behaviorDialog=!1,e.addEmergentBehavior(e.addingEmergent)}}},[e._v(" Add ")])],1)],1)],1),e._l(e.emergentBehaviors,(function(t,o){return n("v-chip",{key:o,ref:"emergentBehaviors",refInFor:!0,attrs:{color:e.selectedBehaviors.includes(t.emergent_external_id)?"error":"primary",close:"",id:t.emergent_external_id},on:{"click:close":function(n){return e.removeEmergentBehavior(t,o)},click:function(n){return e.handleColorEmergentBehaviors(t)}}},[n("v-dialog",{attrs:{"retain-focus":!1,persistent:"","max-width":"600px"},scopedSlots:e._u([{key:"activator",fn:function(o){var s=o.on,i=o.attrs;return[n("v-btn",e._g(e._b({attrs:{icon:"",dark:""},on:{click:function(n){return e.selectEmergentBehaviorForEdition(t)}}},"v-btn",i,!1),s),[n("v-icon",[e._v(" "+e._s(e.icons.mdiPencil)+" ")])],1)]}}],null,!0),model:{value:e.editEmergentBehaviorDialog,callback:function(t){e.editEmergentBehaviorDialog=t},expression:"editEmergentBehaviorDialog"}},[n("v-card",[n("v-card-title",[n("span",{staticClass:"text-h5"},[e._v("Edit Emergent Behavior")])]),n("v-card-text",[n("v-container",[n("v-col",{attrs:{cols:"12",sm:"12"}}),n("v-col",{attrs:{cols:"12"}},[n("v-text-field",{attrs:{label:"Type a description for this emergent behavior"},model:{value:e.emergentNewDescription,callback:function(t){e.emergentNewDescription=t},expression:"emergentNewDescription"}})],1)],1)],1),n("v-card-actions",[n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editEmergentBehaviorDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.editEmergentBehaviorDialog=!1,e.editEmergentBehavior(e.emergentNewDescription)}}},[e._v(" Edit ")])],1)],1)],1),e._v(" "+e._s(t.description)+" ")],1)}))],2)]),n("div",{staticClass:"text-center"},[n("v-dialog",{attrs:{width:"500"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Forbidden action ")]),n("v-card-text",[e._v(" An invalid action was detected! ")]),n("v-divider"),n("v-card-actions",[n("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialog=!1}}},[e._v(" OK ")])],1)],1)],1),n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.saveDialog,callback:function(t){e.saveDialog=t},expression:"saveDialog"}},[n("v-card",{attrs:{color:"blue",dark:""}},[n("v-card-text",[e._v(" Saving SoS and updating model... "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)])},ie=[],ae=n(9726),re=(n(2526),n(1817),n(9826),n(2772),n(9554),n(4747),n(7327),n(4553),n(8020)),ce=n.n(re),le=n(830);const ue={data:function(){return{icons:{mdiPencil:le.r9,mdiDelete:le.x9U},sos:[],constituents:[],basicFeatures:[],emergentBehaviors:[],availableConstituents:[],availableBasicFeatures:[],availableEmergentBehaviors:[],addingConstituent:null,constituentNewName:null,addingFeature:null,featureNewDescription:null,addingEmergent:null,emergentNewDescription:null,addingSoS:null,editingSoS:null,sosNewName:null,operationsQueue:[],ConstituentsBasicFeaturesLines:[],BasicFeaturesEmergentBehaviorsLines:[],selectedSoS:null,selectedConstituent:null,selectedBasicFeature:null,selectedEmergentBehavior:null,selectedConstituents:[],selectedFeatures:[],selectedBehaviors:[],selectedForCheck:[],dialog:!1,sosDialog:!1,constituentDialog:!1,featureDialog:!1,behaviorDialog:!1,saveDialog:!1,errorDialog:!1,editConstituentDialog:!1,editBasicFeatureDialog:!1,editEmergentBehaviorDialog:!1,editSoSDialog:!1}},created:function(){this.clearAll(),this.getSoS()},methods:{updateModel:function(){var e=this,t="".concat("http://localhost:5000","/database/process");return new Promise((function(n,o){A.ZP.get(t).then((function(t){console.log("Model updated successfully!"),e.saveDialog=!1,n()}))["catch"]((function(t){console.error(t),e.saveDialog=!1,e.errorDialog=!0}))}))},saveSoS:function(){var e=this;return(0,N.Z)((0,Z.Z)().mark((function t(){var n,o,s,i;return(0,Z.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.saveDialog=!0,n=[],o=(0,Z.Z)().mark((function t(o){return(0,Z.Z)().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,"element"!=e.operationsQueue[o].type){t.next=78;break}if("sos"!=e.operationsQueue[o].subtype){t.next=21;break}if("add"!=e.operationsQueue[o].operation){t.next=9;break}return t.t0=n,t.next=7,e.addSoSDB(e.operationsQueue[o].sos_external_id,e.operationsQueue[o].sos_name).then((function(e){return console.log("Executed operation index => ",o)}));case 7:t.t1=t.sent,t.t0.push.call(t.t0,t.t1);case 9:if("update"!=e.operationsQueue[o].operation){t.next=15;break}return t.t2=n,t.next=13,e.updateSoSDB(e.operationsQueue[o].sos_external_id,e.operationsQueue[o].sos_name).then((function(e){return console.log("Executed operation index => ",o)}));case 13:t.t3=t.sent,t.t2.push.call(t.t2,t.t3);case 15:if("remove"!=e.operationsQueue[o].operation){t.next=21;break}return t.t4=n,t.next=19,e.removeSoSDB(e.operationsQueue[o].sos_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 19:t.t5=t.sent,t.t4.push.call(t.t4,t.t5);case 21:if("constituent"!=e.operationsQueue[o].subtype){t.next=40;break}if("add"!=e.operationsQueue[o].operation){t.next=28;break}return t.t6=n,t.next=26,e.addConstituentDB(e.operationsQueue[o].constituent_external_id,e.operationsQueue[o].constituent_name).then((function(e){return console.log("Executed operation index => ",o)}));case 26:t.t7=t.sent,t.t6.push.call(t.t6,t.t7);case 28:if("update"!=e.operationsQueue[o].operation){t.next=34;break}return t.t8=n,t.next=32,e.updateConstituentDB(e.operationsQueue[o].constituent_external_id,e.operationsQueue[o].constituent_name).then((function(e){return console.log("Executed operation index => ",o)}));case 32:t.t9=t.sent,t.t8.push.call(t.t8,t.t9);case 34:if("remove"!=e.operationsQueue[o].operation){t.next=40;break}return t.t10=n,t.next=38,e.removeConstituentDB(e.operationsQueue[o].constituent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 38:t.t11=t.sent,t.t10.push.call(t.t10,t.t11);case 40:if("basicFeature"!=e.operationsQueue[o].subtype){t.next=59;break}if("add"!=e.operationsQueue[o].operation){t.next=47;break}return t.t12=n,t.next=45,e.addBasicFeatureDB(e.operationsQueue[o].feature_external_id,e.operationsQueue[o].description).then((function(e){return console.log("Executed operation index => ",o)}));case 45:t.t13=t.sent,t.t12.push.call(t.t12,t.t13);case 47:if("update"!=e.operationsQueue[o].operation){t.next=53;break}return t.t14=n,t.next=51,e.updateBasicFeatureDB(e.operationsQueue[o].feature_external_id,e.operationsQueue[o].description).then((function(e){return console.log("Executed operation index => ",o)}));case 51:t.t15=t.sent,t.t14.push.call(t.t14,t.t15);case 53:if("remove"!=e.operationsQueue[o].operation){t.next=59;break}return t.t16=n,t.next=57,e.removeBasicFeatureDB(e.operationsQueue[o].feature_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 57:t.t17=t.sent,t.t16.push.call(t.t16,t.t17);case 59:if("emergentBehavior"!=e.operationsQueue[o].subtype){t.next=78;break}if("add"!=e.operationsQueue[o].operation){t.next=66;break}return t.t18=n,t.next=64,e.addEmergentBehaviorDB(e.operationsQueue[o].emergent_external_id,e.operationsQueue[o].description).then((function(e){return console.log("Executed operation index => ",o)}));case 64:t.t19=t.sent,t.t18.push.call(t.t18,t.t19);case 66:if("update"!=e.operationsQueue[o].operation){t.next=72;break}return t.t20=n,t.next=70,e.updateEmergentBehaviorDB(e.operationsQueue[o].emergent_external_id,e.operationsQueue[o].description).then((function(e){return console.log("Executed operation index => ",o)}));case 70:t.t21=t.sent,t.t20.push.call(t.t20,t.t21);case 72:if("remove"!=e.operationsQueue[o].operation){t.next=78;break}return t.t22=n,t.next=76,e.removeEmergentBehaviorDB(e.operationsQueue[o].emergent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 76:t.t23=t.sent,t.t22.push.call(t.t22,t.t23);case 78:if("connection"!=e.operationsQueue[o].type){t.next=131;break}if("sos/constituent"!=e.operationsQueue[o].subtype){t.next=92;break}if("add"!=e.operationsQueue[o].operation){t.next=86;break}return t.t24=n,t.next=84,e.addConnectionSoSConstituentDB(e.operationsQueue[o].sos_external_id,e.operationsQueue[o].constituent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 84:t.t25=t.sent,t.t24.push.call(t.t24,t.t25);case 86:if("remove"!=e.operationsQueue[o].operation){t.next=92;break}return t.t26=n,t.next=90,e.removeConnectionSoSConstituentDB(e.operationsQueue[o].sos_external_id,e.operationsQueue[o].constituent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 90:t.t27=t.sent,t.t26.push.call(t.t26,t.t27);case 92:if("constituent/basicFeature"!=e.operationsQueue[o].subtype){t.next=105;break}if("add"!=e.operationsQueue[o].operation){t.next=99;break}return t.t28=n,t.next=97,e.addConnectionConstituentBasicFeatureDB(e.operationsQueue[o].constituent_external_id,e.operationsQueue[o].feature_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 97:t.t29=t.sent,t.t28.push.call(t.t28,t.t29);case 99:if("remove"!=e.operationsQueue[o].operation){t.next=105;break}return t.t30=n,t.next=103,e.removeConnectionConstituentBasicFeatureDB(e.operationsQueue[o].constituent_external_id,e.operationsQueue[o].feature_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 103:t.t31=t.sent,t.t30.push.call(t.t30,t.t31);case 105:if("basicFeature/emergentBehavior"!=e.operationsQueue[o].subtype){t.next=118;break}if("add"!=e.operationsQueue[o].operation){t.next=112;break}return t.t32=n,t.next=110,e.addConnectionBasicFeatureEmergentBehaviorDB(e.operationsQueue[o].feature_external_id,e.operationsQueue[o].emergent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 110:t.t33=t.sent,t.t32.push.call(t.t32,t.t33);case 112:if("remove"!=e.operationsQueue[o].operation){t.next=118;break}return t.t34=n,t.next=116,e.removeConnectionBasicFeatureEmergentBehaviorDB(e.operationsQueue[o].feature_external_id,e.operationsQueue[o].emergent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 116:t.t35=t.sent,t.t34.push.call(t.t34,t.t35);case 118:if("sos/emergentBehavior"!=e.operationsQueue[o].subtype){t.next=131;break}if("add"!=e.operationsQueue[o].operation){t.next=125;break}return t.t36=n,t.next=123,e.addConnectionSoSEmergentBehaviorDB(e.operationsQueue[o].sos_external_id,e.operationsQueue[o].emergent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 123:t.t37=t.sent,t.t36.push.call(t.t36,t.t37);case 125:if("remove"!=e.operationsQueue[o].operation){t.next=131;break}return t.t38=n,t.next=129,e.removeConnectionSoSEmergentBehaviorDB(e.operationsQueue[o].sos_external_id,e.operationsQueue[o].emergent_external_id).then((function(e){return console.log("Executed operation index => ",o)}));case 129:t.t39=t.sent,t.t38.push.call(t.t38,t.t39);case 131:t.next=137;break;case 133:return t.prev=133,t.t40=t["catch"](0),console.log("ERR => ",t.t40),t.abrupt("return","continue");case 137:case"end":return t.stop()}}),t,null,[[0,133]])})),s=0;case 4:if(!(s<e.operationsQueue.length)){t.next=12;break}return t.delegateYield(o(s),"t0",6);case 6:if(i=t.t0,"continue"!==i){t.next=9;break}return t.abrupt("continue",9);case 9:s++,t.next=4;break;case 12:return t.next=14,Promise.all(n);case 14:t.sent,e.updateModel().then((function(t){e.clearAll(),e.getSoS(),console.log("Database Updated Successfully!")}));case 16:case"end":return t.stop()}}),t)})))()},selectConstituentForEdition:function(e){this.selectedConstituent=e},selectBasicFeatureForEdition:function(e){this.selectedBasicFeature=e},selectEmergentBehaviorForEdition:function(e){this.selectedEmergentBehavior=e},removeSoS:function(){var e=this,t=this.sos.find((function(t){return t.sos_external_id==e.editingSoS.sos_external_id}));this.sos.splice(this.sos.indexOf(t),1),this.clearAll();var n={type:"element"};n.subtype=t.type,n.operation="remove",n.sos_external_id=this.editingSoS.sos_external_id,this.operationsQueue.push(n),console.log("this.editingSoS => ",this.editingSoS),console.log("operations Queue => ",this.operationsQueue),this.sosNewName=null},editSoS:function(e){var t=this,n=this.sos.find((function(e){return e.sos_external_id==t.editingSoS.sos_external_id}));n.sos_name=e;var o={type:"element"};o.subtype=n.type,o.operation="update",o.sos_external_id=n.sos_external_id,o.sos_name=e,this.operationsQueue.push(o),console.log("selectedSoS => ",this.editingSoS),console.log("operations Queue => ",this.operationsQueue),this.sosNewName=null},editConstituent:function(e){var t=this,n=this.constituents.find((function(e){return e.constituent_external_id==t.selectedConstituent.constituent_external_id}));n.constituent_name=e;var o={type:"element"};o.subtype=n.type,o.operation="update",o.constituent_external_id=n.constituent_external_id,o.constituent_name=e,this.operationsQueue.push(o),console.log("constituents => ",this.constituents),console.log("operations Queue => ",this.operationsQueue),this.constituentNewName=null},editBasicFeature:function(e){var t=this,n=this.basicFeatures.find((function(e){return e.feature_external_id==t.selectedBasicFeature.feature_external_id}));n.description=e;var o={type:"element"};o.subtype=n.type,o.operation="update",o.feature_external_id=n.feature_external_id,o.description=e,this.operationsQueue.push(o),console.log("basic Features => ",this.basicFeatures),console.log("operations Queue => ",this.operationsQueue),this.featureNewDescription=null},editEmergentBehavior:function(e){var t=this,n=this.emergentBehaviors.find((function(e){return e.emergent_external_id==t.selectedEmergentBehavior.emergent_external_id}));n.description=e;var o={type:"element"};o.subtype=n.type,o.operation="update",o.emergent_external_id=n.emergent_external_id,o.description=e,this.operationsQueue.push(o),console.log("emergent Behaviors => ",this.emergentBehaviors),console.log("operations Queue => ",this.operationsQueue),this.emergentNewDescription=null},createSoS:function(e){this.clearAll();var t={},n=(0,R.Z)();t.sos_external_id=n,t.sos_name=e,t.type="sos",this.sos.push(t),this.editingSoS=t,this.selectedSoS=t;var o={type:"element",subtype:"sos",operation:"add"};o.sos_external_id=n,o.sos_name=e,this.operationsQueue.push(o),console.log("editingSoS => ",this.editingSoS),console.log("operations Queue => ",this.operationsQueue)},addConstituent:function(e){if("object"==(0,ae.Z)(e))this.constituents.push(e);else{var t={},n=(0,R.Z)();t.constituent_external_id=n,t.constituent_name=e,t.type="constituent",this.constituents.push(t);var o={type:"element",subtype:"constituent",operation:"add"};o.constituent_external_id=n,o.constituent_name=e,this.operationsQueue.push(o);var s={type:"connection",subtype:"sos/constituent",operation:"add"};s.constituent_external_id=n,s.sos_external_id=this.editingSoS.sos_external_id,this.operationsQueue.push(s)}console.log("constituents => ",this.constituents),console.log("operations Queue => ",this.operationsQueue)},addBasicFeature:function(e){if("object"==(0,ae.Z)(e))this.basicFeatures.push(e);else{var t={},n=(0,R.Z)();t.feature_external_id=n,t.description=e,t.type="basicFeature",this.basicFeatures.push(t);var o={type:"element",subtype:"basicFeature",operation:"add"};o.feature_external_id=n,o.description=e,this.operationsQueue.push(o)}console.log("basic Features => ",this.basicFeatures),console.log("operations Queue => ",this.operationsQueue)},addEmergentBehavior:function(e){if("object"==(0,ae.Z)(e))this.emergentBehaviors.push(e);else{var t={},n=(0,R.Z)();t.emergent_external_id=n,t.description=e,t.type="emergentBehavior",this.emergentBehaviors.push(t);var o={type:"element",subtype:"emergentBehavior",operation:"add"};o.emergent_external_id=n,o.description=e,this.operationsQueue.push(o);var s={type:"connection",subtype:"sos/emergentBehavior",operation:"add"};s.emergent_external_id=n,s.sos_external_id=this.editingSoS.sos_external_id,this.operationsQueue.push(s)}console.log("emergent Behaviors Features => ",this.emergentBehaviors),console.log("operations Queue => ",this.operationsQueue)},redrawLines:function(){var e=this;this.ConstituentsBasicFeaturesLines.forEach((function(t){var n=t.line.color;t.line.remove();var o=e.$refs.constituents.find((function(e){return e.$attrs.id==t.constituent_external_id})),s=e.$refs.basicFeatures.find((function(e){return e.$attrs.id==t.feature_external_id})),i=new(ce())(ce().mouseHoverAnchor(o.$el),s.$el,{size:3,color:n,startPlug:"disc",endPlug:"disc",path:"straight"});t.line=i})),this.BasicFeaturesEmergentBehaviorsLines.forEach((function(t){var n=t.line.color;t.line.remove();var o=e.$refs.emergentBehaviors.find((function(e){return e.$attrs.id==t.emergent_external_id})),s=e.$refs.basicFeatures.find((function(e){return e.$attrs.id==t.feature_external_id})),i=new(ce())(ce().mouseHoverAnchor(s.$el),o.$el,{size:3,color:n,startPlug:"disc",endPlug:"disc",path:"straight"});t.line=i}))},checkConnection:function(){var e=this;if(this.selectedForCheck.length>2)this.dialog=!0,this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[];else if(2==this.selectedForCheck.length)if("constituent"==this.selectedForCheck[0].type)if("emergentBehavior"==this.selectedForCheck[1].type)this.dialog=!0,this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[];else{var t=this.ConstituentsBasicFeaturesLines.filter((function(t){return t.constituent_external_id==e.selectedForCheck[0].constituent_external_id&&t.feature_external_id==e.selectedForCheck[1].feature_external_id}));if(0==t.length){var n=this.$refs.constituents.find((function(t){return t.$attrs.id==e.selectedForCheck[0].constituent_external_id})),o=this.$refs.basicFeatures.find((function(t){return t.$attrs.id==e.selectedForCheck[1].feature_external_id})),s=new(ce())(ce().mouseHoverAnchor(n.$el),o.$el,{size:3,color:"red",startPlug:"disc",endPlug:"disc",path:"straight"}),i={};i.constituent_external_id=this.selectedForCheck[0].constituent_external_id,i.feature_external_id=this.selectedForCheck[1].feature_external_id,i.line=s,this.ConstituentsBasicFeaturesLines.push(i);var a={type:"connection",subtype:"constituent/basicFeature",operation:"add"};a.constituent_external_id=this.selectedForCheck[0].constituent_external_id,a.feature_external_id=this.selectedForCheck[1].feature_external_id,this.operationsQueue.push(a),console.log("operations Queue => ",this.operationsQueue)}else if(1==t.length){t[0].line.remove(),this.ConstituentsBasicFeaturesLines.splice(this.ConstituentsBasicFeaturesLines.indexOf(t[0]),1);var r={type:"connection",subtype:"constituent/basicFeature",operation:"remove"};r.constituent_external_id=t[0].constituent_external_id,r.feature_external_id=t[0].feature_external_id,this.operationsQueue.push(r),console.log("operations Queue => ",this.operationsQueue)}else this.dialog=!0;this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[]}else if("emergentBehavior"==this.selectedForCheck[0].type)if("constituent"==this.selectedForCheck[1].type)this.dialog=!0,this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[];else{var c=this.BasicFeaturesEmergentBehaviorsLines.filter((function(t){return t.emergent_external_id==e.selectedForCheck[0].emergent_external_id&&t.feature_external_id==e.selectedForCheck[1].feature_external_id}));if(0==c.length){var l=this.$refs.emergentBehaviors.find((function(t){return t.$attrs.id==e.selectedForCheck[0].emergent_external_id})),u=this.$refs.basicFeatures.find((function(t){return t.$attrs.id==e.selectedForCheck[1].feature_external_id})),d=new(ce())(ce().mouseHoverAnchor(u.$el),l.$el,{size:3,color:"red",startPlug:"disc",endPlug:"disc",path:"straight"}),h={};h.emergent_external_id=this.selectedForCheck[0].emergent_external_id,h.feature_external_id=this.selectedForCheck[1].feature_external_id,h.line=d,this.BasicFeaturesEmergentBehaviorsLines.push(h);var v={type:"connection",subtype:"basicFeature/emergentBehavior",operation:"add"};v.emergent_external_id=this.selectedForCheck[0].emergent_external_id,v.feature_external_id=this.selectedForCheck[1].feature_external_id,this.operationsQueue.push(v),console.log("operations Queue => ",this.operationsQueue)}else if(1==c.length){c[0].line.remove(),this.BasicFeaturesEmergentBehaviorsLines.splice(this.BasicFeaturesEmergentBehaviorsLines.indexOf(c[0]),1);var p={type:"connection",subtype:"basicFeature/emergentBehavior",operation:"remove"};p.emergent_external_id=c[0].emergent_external_id,p.feature_external_id=c[0].feature_external_id,this.operationsQueue.push(p),console.log("operations Queue => ",this.operationsQueue)}else this.dialog=!0;this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[]}else if("constituent"==this.selectedForCheck[1].type){var f=this.ConstituentsBasicFeaturesLines.filter((function(t){return t.constituent_external_id==e.selectedForCheck[1].constituent_external_id&&t.feature_external_id==e.selectedForCheck[0].feature_external_id}));if(0==f.length){var g=this.$refs.constituents.find((function(t){return t.$attrs.id==e.selectedForCheck[1].constituent_external_id})),_=this.$refs.basicFeatures.find((function(t){return t.$attrs.id==e.selectedForCheck[0].feature_external_id})),m=new(ce())(ce().mouseHoverAnchor(g.$el),_.$el,{size:3,color:"red",startPlug:"disc",endPlug:"disc",path:"straight"}),b={};b.constituent_external_id=this.selectedForCheck[1].constituent_external_id,b.feature_external_id=this.selectedForCheck[0].feature_external_id,b.line=m,this.ConstituentsBasicFeaturesLines.push(b);var x={type:"connection",subtype:"constituent/basicFeature",operation:"add"};x.feature_external_id=this.selectedForCheck[0].feature_external_id,x.constituent_external_id=this.selectedForCheck[1].constituent_external_id,this.operationsQueue.push(x),console.log("operations Queue => ",this.operationsQueue)}else if(1==f.length){f[0].line.remove(),this.ConstituentsBasicFeaturesLines.splice(this.ConstituentsBasicFeaturesLines.indexOf(f[0]),1);var B={type:"connection",subtype:"constituent/basicFeature",operation:"remove"};B.constituent_external_id=f[0].constituent_external_id,B.feature_external_id=f[0].feature_external_id,this.operationsQueue.push(B),console.log("operations Queue => ",this.operationsQueue)}else this.dialog=!0;this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[]}else{var C=this.BasicFeaturesEmergentBehaviorsLines.filter((function(t){return t.emergent_external_id==e.selectedForCheck[1].emergent_external_id&&t.feature_external_id==e.selectedForCheck[0].feature_external_id}));if(0==C.length){var S=this.$refs.emergentBehaviors.find((function(t){return t.$attrs.id==e.selectedForCheck[1].emergent_external_id})),k=this.$refs.basicFeatures.find((function(t){return t.$attrs.id==e.selectedForCheck[0].feature_external_id})),F=new(ce())(ce().mouseHoverAnchor(k.$el),S.$el,{size:3,color:"red",startPlug:"disc",endPlug:"disc",path:"straight"}),D={};D.emergent_external_id=this.selectedForCheck[1].emergent_external_id,D.feature_external_id=this.selectedForCheck[0].feature_external_id,D.line=F,this.BasicFeaturesEmergentBehaviorsLines.push(D);var E={type:"connection",subtype:"basicFeature/emergentBehavior",operation:"add"};E.feature_external_id=this.selectedForCheck[0].feature_external_id,E.emergent_external_id=this.selectedForCheck[1].emergent_external_id,this.operationsQueue.push(E),console.log("operations Queue => ",this.operationsQueue)}else if(1==C.length){C[0].line.remove(),this.BasicFeaturesEmergentBehaviorsLines.splice(this.BasicFeaturesEmergentBehaviorsLines.indexOf(C[0]),1);var w={type:"connection",subtype:"basicFeature/emergentBehavior",operation:"remove"};w.emergent_external_id=C[0].emergent_external_id,w.feature_external_id=C[0].feature_external_id,this.operationsQueue.push(w),console.log("operations Queue => ",this.operationsQueue)}else this.dialog=!0;this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[]}},handleColorConstituents:function(e){var t=e.constituent_external_id;if(1==this.selectedConstituents.length&&this.selectedConstituents[0]!==t)this.dialog=!0,this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[];else{var n=this.selectedConstituents.findIndex((function(e){return e===t}));n<0?(this.selectedConstituents.push(t),this.selectedForCheck.push(e),this.checkConnection()):(this.selectedConstituents.splice(n,1),this.selectedForCheck.splice(e,1))}},handleColorBasicFeatures:function(e){var t=e.feature_external_id;if(1==this.selectedFeatures.length&&this.selectedFeatures[0]!==t)this.dialog=!0,this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[];else{var n=this.selectedFeatures.findIndex((function(e){return e===t}));n<0?(this.selectedFeatures.push(t),this.selectedForCheck.push(e),this.checkConnection()):(this.selectedFeatures.splice(n,1),this.selectedForCheck.splice(e,1))}},handleColorEmergentBehaviors:function(e){var t=e.emergent_external_id;if(1==this.selectedBehaviors.length&&this.selectedBehaviors[0]!==t)this.dialog=!0,this.selectedForCheck=[],this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[];else{var n=this.selectedBehaviors.findIndex((function(e){return e===t}));n<0?(this.selectedBehaviors.push(t),this.selectedForCheck.push(e),this.checkConnection()):(this.selectedBehaviors.splice(n,1),this.selectedForCheck.splice(e,1))}},addConnectionSoSConstituentDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/sos_constituent/add");return new Promise((function(s,i){A.ZP.get(o,{params:{sos_external_id:e,constituent_external_id:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},removeConnectionSoSConstituentDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/sos_constituent/delete");return new Promise((function(s,i){A.ZP.get(o,{params:{sos_external_id:e,constituent_external_id:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addConnectionSoSEmergentBehaviorDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/sos_emergent_behavior/add");return new Promise((function(s,i){A.ZP.get(o,{params:{sos_external_id:e,emergent_external_id:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},removeConnectionSoSEmergentBehaviorDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/sos_emergent_behavior/delete");return new Promise((function(s,i){A.ZP.get(o,{params:{sos_external_id:e,emergent_external_id:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addConnectionConstituentBasicFeatureDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/constituent_basic_feature/add");return new Promise((function(s,i){A.ZP.get(o,{params:{constituent_external_id:e,feature_external_id:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},removeConnectionConstituentBasicFeatureDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/constituent_basic_feature/delete");return new Promise((function(s,i){A.ZP.get(o,{params:{constituent_external_id:e,feature_external_id:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addConnectionBasicFeatureEmergentBehaviorDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/basic_feature_emergent_behavior/add");return new Promise((function(s,i){A.ZP.get(o,{params:{emergent_external_id:t,feature_external_id:e}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},removeConnectionBasicFeatureEmergentBehaviorDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/relation/basic_feature_emergent_behavior/delete");return new Promise((function(s,i){A.ZP.get(o,{params:{emergent_external_id:t,feature_external_id:e}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addSoSDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/sos/add");return new Promise((function(s,i){A.ZP.get(o,{params:{sos_id:e,sos_name:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addConstituentDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/constituents/add");return new Promise((function(s,i){A.ZP.get(o,{params:{constituent_id:e,constituent_name:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addBasicFeatureDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/basic_features/add");return new Promise((function(s,i){A.ZP.get(o,{params:{feature_id:e,description:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},addEmergentBehaviorDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/emergent_behaviors/add");return new Promise((function(s,i){A.ZP.get(o,{params:{emergent_id:e,description:t}}).then((function(e){console.log(e.data),s()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},updateSoSDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/sos/").concat(e,"/update");return new Promise((function(e,s){A.ZP.get(o,{params:{sos_name:t}}).then((function(t){console.log(t.data),e()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},updateConstituentDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/constituents/").concat(e,"/update");return new Promise((function(e,s){A.ZP.get(o,{params:{constituent_name:t}}).then((function(t){console.log(t.data),e()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},updateBasicFeatureDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/basic_features/").concat(e,"/update");return new Promise((function(e,s){A.ZP.get(o,{params:{description:t}}).then((function(t){console.log(t.data),e()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},updateEmergentBehaviorDB:function(e,t){var n=this,o="".concat("http://localhost:5000","/emergent_behaviors/").concat(e,"/update");return new Promise((function(e,s){A.ZP.get(o,{params:{description:t}}).then((function(t){console.log(t.data),e()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},removeSoSDB:function(e){var t=this,n="".concat("http://localhost:5000","/sos/").concat(e,"/delete");return new Promise((function(e,o){A.ZP.get(n).then((function(t){console.log(t.data),e()}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},removeConstituentDB:function(e){var t=this,n="".concat("http://localhost:5000","/constituents/").concat(e,"/delete");return new Promise((function(e,o){A.ZP.get(n).then((function(t){console.log(t.data),e()}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},removeBasicFeatureDB:function(e){var t=this,n="".concat("http://localhost:5000","/basic_features/").concat(e,"/delete");return new Promise((function(e,o){A.ZP.get(n).then((function(t){console.log(t.data),e()}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},removeEmergentBehaviorDB:function(e){var t=this,n="".concat("http://localhost:5000","/emergent_behaviors/").concat(e,"/delete");return new Promise((function(e,o){A.ZP.get(n).then((function(t){console.log(t.data),e()}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},getSoS:function(){var e=this,t="".concat("http://localhost:5000","/sos/get");A.ZP.get(t).then((function(t){e.sos=t.data,e.sos.forEach((function(e){e.type="sos"}))}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},getConstituents:function(){var e=this,t="".concat("http://localhost:5000","/constituents/get");A.ZP.get(t).then((function(t){e.availableConstituents=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},getBasicFeatures:function(){var e=this,t="".concat("http://localhost:5000","/basic_features/get");A.ZP.get(t).then((function(t){e.availableBasicFeatures=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},getEmergentBehaviors:function(){var e=this,t="".concat("http://localhost:5000","/emergent_behaviors/get");A.ZP.get(t).then((function(t){e.availableEmergentBehaviors=t.data}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},getConstituentsFromSoS:function(e,t){var n=this;this.ConstituentsBasicFeaturesLines.forEach((function(e){return e.remove()})),this.ConstituentsBasicFeaturesLines=[],this.BasicFeaturesEmergentBehaviorsLines=[];var o="".concat("http://localhost:5000","/sos/").concat(e,"/constituents/get");return new Promise((function(e,t){A.ZP.get(o).then((function(t){n.constituents=t.data,n.constituents.forEach((function(e){e.type="constituent"})),e()}))["catch"]((function(e){n.errorDialog=!0,console.error(e)}))}))},getBasicFeaturesFromSoS:function(e){var t=this;this.ConstituentsBasicFeaturesLines.forEach((function(e){return e.remove()})),this.ConstituentsBasicFeaturesLines=[],this.BasicFeaturesEmergentBehaviorsLines=[];var n="".concat("http://localhost:5000","/sos/").concat(e,"/constituents/basic_features/get");return new Promise((function(e,o){A.ZP.get(n).then((function(n){t.basicFeatures=n.data,t.basicFeatures.forEach((function(e){e.type="basicFeature"})),t.$nextTick((function(){e()}))}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},getEmergentBehaviorsFromSoS:function(e){var t=this;this.BasicFeaturesEmergentBehaviorsLines.forEach((function(e){return e.remove()})),this.ConstituentsBasicFeaturesLines=[],this.BasicFeaturesEmergentBehaviorsLines=[];var n="".concat("http://localhost:5000","/sos/").concat(e,"/constituents/basic_features/emergent_behaviors/get");return new Promise((function(e,o){A.ZP.get(n).then((function(n){t.emergentBehaviors=n.data,t.emergentBehaviors.forEach((function(e){e.type="emergentBehavior"})),t.$nextTick((function(){e()}))}))["catch"]((function(e){t.errorDialog=!0,console.error(e)}))}))},getRelationsConstituentsBasicFeatures:function(){var e=this,t={constituent_list:this.constituents,features_list:this.basicFeatures},n="".concat("http://localhost:5000","/relation/constituent_basic_feature/post");return new Promise((function(o,s){(0,A.ZP)({url:n,method:"post",data:t}).then((function(t){var n=t.data;n.forEach((function(t){var n=e.$refs.constituents.find((function(e){return e.$attrs.id==t.constituent_external_id})),s=e.$refs.basicFeatures.find((function(e){return e.$attrs.id==t.feature_external_id})),i=new(ce())(ce().mouseHoverAnchor(n.$el),s.$el,{size:3,color:"#000000",startPlug:"disc",endPlug:"disc",path:"straight"}),a={};a.constituent_external_id=t.constituent_external_id,a.feature_external_id=t.feature_external_id,a.line=i,e.ConstituentsBasicFeaturesLines.push(a),o()}))}))["catch"]((function(t){e.errorDialog=!0,console.log("ERROR ON ADD RELATION CONSTITUENTS/BASIC FEATURES =>>> ",t)}))}))},getRelationsBasicFeaturesEmergentBehaviors:function(){var e=this,t={features_list:this.basicFeatures,emergents_list:this.emergentBehaviors},n="".concat("http://localhost:5000","/relation/basic_feature_emergent_behavior/post");return new Promise((function(o,s){(0,A.ZP)({url:n,method:"post",data:t}).then((function(t){var n=t.data;n.forEach((function(t){var n=e.$refs.basicFeatures.find((function(e){return e.$attrs.id==t.feature_external_id})),s=e.$refs.emergentBehaviors.find((function(e){return e.$attrs.id==t.emergent_external_id})),i=new(ce())(ce().mouseHoverAnchor(n.$el),s.$el,{size:3,color:"#000000",startPlug:"disc",endPlug:"disc",path:"straight"}),a={};a.feature_external_id=t.feature_external_id,a.emergent_external_id=t.emergent_external_id,a.line=i,e.BasicFeaturesEmergentBehaviorsLines.push(a),o()}))}))["catch"]((function(t){e.errorDialog=!0,console.log("ERROR ON ADD RELATION CONSTITUENTS/BASIC FEATURES =>>> ",t)}))}))},loadSoS:function(e){var t=this;this.editingSoS=this.sos.find((function(t){return t.sos_external_id==e})),console.log("editingSoS => ",this.editingSoS),this.clearAll(),this.sos=[],this.getSoS(),this.getConstituentsFromSoS(e).then((function(n){t.getBasicFeaturesFromSoS(e).then((function(n){t.getEmergentBehaviorsFromSoS(e).then((function(e){t.getRelationsConstituentsBasicFeatures().then((function(e){t.getRelationsBasicFeaturesEmergentBehaviors().then((function(e){}))}))}))}))}))},clearAll:function(){this.ConstituentsBasicFeaturesLines.forEach((function(e){e.line.remove()})),this.BasicFeaturesEmergentBehaviorsLines.forEach((function(e){e.line.remove()})),this.constituents=[],this.basicFeatures=[],this.emergentBehaviors=[],this.ConstituentsBasicFeaturesLines=[],this.BasicFeaturesEmergentBehaviorsLines=[],this.availableConstituents=[],this.availableBasicFeatures=[],this.availableEmergentBehaviors=[],this.addingConstituent=null,this.constituentNewName=null,this.addingFeature=null,this.featureNewDescription=null,this.addingEmergent=null,this.emergentNewDescription=null,this.addingSoS=null,this.sosNewName=null,this.operationsQueue=[],this.selectedSoS=null,this.selectedConstituent=null,this.selectedBasicFeature=null,this.selectedEmergentBehavior=null,this.selectedConstituents=[],this.selectedFeatures=[],this.selectedBehaviors=[],this.selectedForCheck=[]},removeConstituent:function(e,t){this.ConstituentsBasicFeaturesLines.forEach((function(e){e.line.remove()})),this.ConstituentsBasicFeaturesLines=[],this.constituents.splice(t,1),this.getRelationsConstituentsBasicFeatures();var n={};n.constituent_external_id=e.constituent_external_id,n.constituent_name=e.constituent_name,n.type="element",n.subtype=e.type,n.operation="remove",this.operationsQueue.push(n),console.log("constituents => ",this.constituents),console.log("operations Queue => ",this.operationsQueue)},removeBasicFeature:function(e,t){this.ConstituentsBasicFeaturesLines.forEach((function(e){console.log("line Constituents/Features =>>> ",e),e.line.remove()})),this.BasicFeaturesEmergentBehaviorsLines.forEach((function(e){console.log("line Features/Behaviors =>>> ",e),e.line.remove()})),this.ConstituentsBasicFeaturesLines=[],this.BasicFeaturesEmergentBehaviorsLines=[],this.basicFeatures.splice(t,1),this.getRelationsConstituentsBasicFeatures(),this.getRelationsBasicFeaturesEmergentBehaviors();var n={};n.feature_external_id=e.feature_external_id,n.description=e.description,n.type="element",n.subtype=e.type,n.operation="remove",this.operationsQueue.push(n),console.log("basic Features => ",this.basicFeatures),console.log("operations Queue => ",this.operationsQueue)},removeEmergentBehavior:function(e,t){this.BasicFeaturesEmergentBehaviorsLines.forEach((function(e){e.line.remove()})),this.BasicFeaturesEmergentBehaviorsLines=[],this.emergentBehaviors.splice(t,1),this.getRelationsBasicFeaturesEmergentBehaviors();var n={};n.emergent_external_id=e.emergent_external_id,n.description=e.description,n.type="element",n.subtype=e.type,n.operation="remove",this.operationsQueue.push(n),console.log("emergent Behaviors => ",this.emergentBehaviors),console.log("operations Queue => ",this.operationsQueue)}}},de=ue;var he=(0,c.Z)(de,se,ie,!1,null,null,null);const ve=he.exports,pe={data:function(){return{}},components:{ManagerDashboard:ve}},fe=pe;var ge=(0,c.Z)(fe,ne,oe,!1,null,null,null);const _e=ge.exports;var me=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AdminDashboard")},be=[],xe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"admin"},[n("div",{staticClass:"admin__group"},[n("label",{staticClass:"admin__label"},[e._v("Exportar Base de Dados")]),n("div",{staticClass:"admin__behaviors"},[n("v-btn",{attrs:{color:"#A4BE7B",dark:""},on:{click:function(t){return e.dumpDatabase()}}},[e._v("Dump Database")])],1)]),n("div",{staticClass:"admin__group"},[n("label",{staticClass:"admin__label"},[e._v("Restaurar Base de Dados")]),n("div",{staticClass:"admin__behaviors d-flex"},[n("v-file-input",{staticStyle:{"padding-top":"0","margin-top":"0"},attrs:{multiple:"","hide-input":"","truncate-length":"15"},on:{change:function(t){return e.setInputFiles(e.files)}},model:{value:e.files,callback:function(t){e.files=t},expression:"files"}}),n("v-btn",{attrs:{color:"#A4BE7B",dark:""},on:{click:function(t){return e.restoreDatabase()}}},[e._v(" Restore Database ")])],1)]),n("div",{staticClass:"admin__group"},[n("label",{staticClass:"admin__label"},[e._v("Remover Base de Dados")]),n("div",{staticClass:"admin__behaviors"},[n("v-btn",{attrs:{color:"#A4BE7B",dark:""},on:{click:function(t){return e.dropDatabase()}}},[e._v(" Drop Database ")])],1)]),n("div",{staticClass:"admin__group"},[n("label",{staticClass:"admin__label"},[e._v("Resetar Plataforma")]),n("div",{staticClass:"admin__behaviors"},[n("v-btn",{attrs:{disabled:e.dialog,loading:e.dialog,color:"#A4BE7B",dark:""},on:{click:function(t){e.dialog=!0,e.resetPlatform()}}},[e._v(" Reset Platform ")])],1)]),n("v-dialog",{attrs:{"hide-overlay":"",persistent:"",width:"300"},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{color:"primary",dark:""}},[n("v-card-text",[e._v(" Reseting platform... "),n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1),n("v-dialog",{attrs:{transition:"dialog-top-transition","max-width":"600"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("v-card",[n("v-toolbar",{attrs:{color:"#A4BE7B",dark:""}},[e._v("Error")]),n("v-card-text",[n("div",{staticClass:"text-h5 pa-12"},[e._v("Sorry, an error occurred!")])]),n("v-card-actions",{staticClass:"justify-end"},[n("v-btn",{attrs:{text:""},on:{click:function(e){t.value=!1}}},[e._v("Close")])],1)],1)]}}])})],1)},Be=[],Ce=(n(9575),n(2472),n(8675),n(2990),n(8927),n(3105),n(5035),n(4345),n(7174),n(2846),n(4731),n(7209),n(6319),n(8867),n(7789),n(3739),n(9368),n(4483),n(2056),n(3462),n(678),n(7462),n(3824),n(5021),n(2974),n(5016),n(7380),n(1118),n(6534));const Se={data:function(){return{dialog:!1,files:[],readers:[],errorDialog:!1}},methods:{resetPlatform:function(){var e=this,t="".concat("http://localhost:5000","/database/reset"),n="".concat("http://localhost:5000","/database/process");A.ZP.get(t).then((function(t){A.ZP.get(n).then((function(t){console.log("Plataform reseted successfully!"),e.dialog=!1}))["catch"]((function(t){console.error(t),e.dialog=!1,e.errorDialog=!0}))}))["catch"]((function(t){console.error(t),e.dialog=!1,e.errorDialog=!0}))},str2bytes:function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t},dumpDatabase:function(){var e=this,t="".concat("http://localhost:5000","/database/dump");A.ZP.post(t).then((function(e){var n=new XMLHttpRequest;n.open("POST",t,!0),n.responseType="blob",n.onreadystatechange=function(){if(4===n.readyState){var e=n.response;(0,Ce.saveAs)(e,"dump.zip")}},n.send()}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))},setInputFiles:function(e){this.files=e,console.log("INPUTS => ",this.files)},restoreDatabase:function(){var e=this,t="".concat("http://localhost:5000","/database/restore");console.log("Submitting file for upload...");var n=new FormData;this.files.forEach((function(e){n.append("file",e)})),console.log("formData => ",n),A.ZP.post(t,n,{headers:{"Content-Type":"multipart/form-data"},timeout:5e3}).then((function(e){console.log("File upload successful!"),console.log(e)}))["catch"]((function(t){e.errorDialog=!0,console.log("File upload failed."),console.error(t)}))},restoreFile:function(e,t){var n=this,o={file:e},s="".concat("http://localhost:5000","/database/restore");return new Promise((function(e,i){(0,A.ZP)({url:s,method:"post",data:o,headers:{"Content-Type":"multipart/form-data"},responseType:"blob"}).then((function(n){console.log("FILE RESTORED SUCCESSFULLY. INDEX => ",t),e()}))["catch"]((function(e){n.errorDialog=!0,console.log("ERROR ON IMPORTING FILE =>>> ",e)}))}))},dropDatabase:function(){var e=this,t="".concat("http://localhost:5000","/database/drop");A.ZP.get(t).then((function(e){console.log("Database droped successfully!")}))["catch"]((function(t){e.errorDialog=!0,console.error(t)}))}}},ke=Se;var Fe=(0,c.Z)(ke,xe,Be,!1,null,"5ecce0a2",null);const De=Fe.exports,Ee={data:function(){return{}},components:{AdminDashboard:De}},we=Ee;var ye=(0,c.Z)(we,me,be,!1,null,null,null);const Pe=ye.exports;var Qe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TheLogin")},Ze=[],Ne=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("section",{staticClass:"hero is-primary"},[n("div",{staticClass:"hero-body"},[n("div",{staticClass:"container has-text-centered"},[n("h2",{staticClass:"title"},[e._v("Login or Register")]),n("p",{staticClass:"subtitle error-msg"},[e._v(e._s(e.errorMsg))])])])]),n("section",{staticClass:"section"},[n("div",{staticClass:"container"},[n("div",{staticClass:"field"},[n("label",{staticClass:"label is-large",attrs:{for:"email"}},[e._v("Email:")]),n("div",{staticClass:"control"},[n("v-text-field",{staticClass:"input is-large",attrs:{type:"email",id:"email",solo:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1)]),n("div",{staticClass:"field"},[n("label",{staticClass:"label is-large",attrs:{for:"password"}},[e._v("Password:")]),n("div",{staticClass:"control"},[n("v-text-field",{staticClass:"input is-large",attrs:{solo:"",type:"password",id:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1)]),n("div",{staticClass:"control"},[n("v-btn",{attrs:{elevation:"2"},on:{click:e.authenticate}},[e._v("Login")]),n("v-btn",{attrs:{elevation:"2"},on:{click:e.register}},[e._v("Register")])],1)])])])},Ae=[],Re=(n(4916),n(3123),n(6647),n(5505),n(7714),n(2801),n(1174),n(3710),new o["default"]);function $e(e){if(!e||e.split(".").length<3)return!1;var t=JSON.parse(atob(e.split(".")[1])),n=new Date(1e3*t.exp),o=new Date;return o<n}const Le={data:function(){return{email:"",password:"",errorMsg:""}},methods:{authenticate:function(){var e=this;this.$store.dispatch("login",{email:this.email,password:this.password}).then((function(){return e.$router.push("/dashboard/bottom-up")}))},register:function(){var e=this;this.$store.dispatch("register",{email:this.email,password:this.password}).then((function(){return e.$router.push("/dashboard/bottom-up")}))}},mounted:function(){var e=this;Re.$on("failedRegistering",(function(t){e.errorMsg=t})),Re.$on("failedAuthentication",(function(t){e.errorMsg=t}))},beforeDestroy:function(){Re.$off("failedRegistering"),Re.$off("failedAuthentication")}},Oe=Le;var Te=(0,c.Z)(Oe,Ne,Ae,!1,null,null,null);const je=Te.exports,Ie={name:"Login",components:{TheLogin:je}},Me=Ie;var Ue=(0,c.Z)(Me,Qe,Ze,!1,null,null,null);const He=Ue.exports;var ze=n(4665);function Ge(e){return A.ZP.post("".concat("http://localhost:5000","/login/"),e)}function Je(e){return A.ZP.post("".concat("http://localhost:5000","/register/"),e)}o["default"].use(ze.ZP);var Ke={login:function(e,t){return e.commit("setUserData",{userData:t}),Ge(t).then((function(t){return e.commit("setJwtToken",{jwt:t.data})}))["catch"]((function(e){console.log("Error Authenticating: ",e),Re.$emit("failedAuthentication",e)}))},register:function(e,t){return e.commit("setUserData",{userData:t}),Je(t).then(e.dispatch("login",t))["catch"]((function(e){console.log("Error Registering: ",e),Re.$emit("failedRegistering: ",e)}))}},We={setUserData:function(e,t){e.userData=t.userData},setJwtToken:function(e,t){console.log("setJwtToken payload = ",t),localStorage.token=t.jwt.token,e.jwt=t.jwt}},Ve={isAuthenticated:function(e){return $e(e.jwt.token)}},Ye={user:{},jwt:""},qe=new ze.ZP.Store({state:Ye,actions:Ke,mutations:We,getters:Ve});const Xe=qe;o["default"].use(d.Z);var et=function(e,t,n){return Xe.getters.isAuthenticated?n():n("/login")},tt=[{path:"/dashboard",alias:"/",name:"Dashboard",component:E,redirect:"/dashboard/bottom-up",children:[{path:"/dashboard/bottom-up",name:"DashboardBottomUp",component:U,beforeEnter:function(e,t,n){return et(e,t,n)}},{path:"/dashboard/manager",name:"DashboardManager",component:_e,beforeEnter:function(e,t,n){return et(e,t,n)}},{path:"/dashboard/top-down",name:"DashboardTop-Down",component:te,beforeEnter:function(e,t,n){return et(e,t,n)}},{path:"/dashboard/admin",name:"DashboardAdmin",component:Pe,beforeEnter:function(e,t,n){return et(e,t,n)}}]},{path:"/login",name:"Login",component:He},{path:"*",redirect:"/dashboard"}],nt=new d.Z({mode:"history",base:"/",routes:tt});const ot=nt;var st=n(8209),it=n.n(st);n(243);o["default"].config.productionTip=!1,o["default"].use(it());var at={theme:{themes:{light:{}}},icons:{iconfont:"mdi"}};new(it())(at);new o["default"]({router:ot,vuetify:new(it())({}),store:Xe,render:function(e){return e(u)}}).$mount("#app")}},t={};function n(o){var s=t[o];if(void 0!==s)return s.exports;var i=t[o]={id:o,loaded:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}n.m=e,(()=>{var e=[];n.O=(t,o,s,i)=>{if(!o){var a=1/0;for(u=0;u<e.length;u++){for(var[o,s,i]=e[u],r=!0,c=0;c<o.length;c++)(!1&i||a>=i)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(r=!1,i<a&&(a=i));if(r){e.splice(u--,1);var l=s();void 0!==l&&(t=l)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[o,s,i]}})(),(()=>{n.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return n.d(t,{a:t}),t}})(),(()=>{n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}})(),(()=>{n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e)})(),(()=>{var e={143:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var s,i,[a,r,c]=o,l=0;if(a.some((t=>0!==e[t]))){for(s in r)n.o(r,s)&&(n.m[s]=r[s]);if(c)var u=c(n)}for(t&&t(o);l<a.length;l++)i=a[l],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(u)},o=self["webpackChunkclient"]=self["webpackChunkclient"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var o=n.O(void 0,[998],(()=>n(7635)));o=n.O(o)})();
//# sourceMappingURL=app.4c89231c.js.map